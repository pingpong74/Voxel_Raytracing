#version 460
#extension GL_EXT_ray_tracing : require

#extension GL_EXT_shader_8bit_storage : require
#extension GL_EXT_shader_explicit_arithmetic_types : require
#extension GL_EXT_shader_explicit_arithmetic_types_int8 : require

layout(location = 0) rayPayloadInEXT vec3 hitValue;

vec3 colours[] = { vec3(0), vec3( 0.6, 0.3, 0.3), vec3(0.8, 0.25, 0.25), vec3(0.3, 0.7, 0.3), vec3(0.1, 0.9, 0.1), vec3(0.3, 0.3, 0.7), vec3(0.1, 0.1, 0.9) };

const vec3 palette[256] = vec3[](
    vec3(1.0000, 1.0000, 1.0000),
    vec3(1.0000, 1.0000, 0.8000),
    vec3(1.0000, 1.0000, 0.6000),
    vec3(1.0000, 1.0000, 0.4000),
    vec3(1.0000, 1.0000, 0.2000),
    vec3(1.0000, 1.0000, 0.0000),
    vec3(1.0000, 0.8000, 1.0000),
    vec3(1.0000, 0.8000, 0.8000),
    vec3(1.0000, 0.8000, 0.6000),
    vec3(1.0000, 0.8000, 0.4000),
    vec3(1.0000, 0.8000, 0.2000),
    vec3(1.0000, 0.8000, 0.0000),
    vec3(1.0000, 0.6000, 1.0000),
    vec3(1.0000, 0.6000, 0.8000),
    vec3(1.0000, 0.6000, 0.6000),
    vec3(1.0000, 0.6000, 0.4000),
    vec3(1.0000, 0.6000, 0.2000),
    vec3(1.0000, 0.6000, 0.0000),
    vec3(1.0000, 0.4000, 1.0000),
    vec3(1.0000, 0.4000, 0.8000),
    vec3(1.0000, 0.4000, 0.6000),
    vec3(1.0000, 0.4000, 0.4000),
    vec3(1.0000, 0.4000, 0.2000),
    vec3(1.0000, 0.4000, 0.0000),
    vec3(1.0000, 0.2000, 1.0000),
    vec3(1.0000, 0.2000, 0.8000),
    vec3(1.0000, 0.2000, 0.6000),
    vec3(1.0000, 0.2000, 0.4000),
    vec3(1.0000, 0.2000, 0.2000),
    vec3(1.0000, 0.2000, 0.0000),
    vec3(1.0000, 0.0000, 1.0000),
    vec3(1.0000, 0.0000, 0.8000),
    vec3(1.0000, 0.0000, 0.6000),
    vec3(1.0000, 0.0000, 0.4000),
    vec3(1.0000, 0.0000, 0.2000),
    vec3(1.0000, 0.0000, 0.0000),
    vec3(0.8000, 1.0000, 1.0000),
    vec3(0.8000, 1.0000, 0.8000),
    vec3(0.8000, 1.0000, 0.6000),
    vec3(0.8000, 1.0000, 0.4000),
    vec3(0.8000, 1.0000, 0.2000),
    vec3(0.8000, 1.0000, 0.0000),
    vec3(0.8000, 0.8000, 1.0000),
    vec3(0.8000, 0.8000, 0.8000),
    vec3(0.8000, 0.8000, 0.6000),
    vec3(0.8000, 0.8000, 0.4000),
    vec3(0.8000, 0.8000, 0.2000),
    vec3(0.8000, 0.8000, 0.0000),
    vec3(0.8000, 0.6000, 1.0000),
    vec3(0.8000, 0.6000, 0.8000),
    vec3(0.8000, 0.6000, 0.6000),
    vec3(0.8000, 0.6000, 0.4000),
    vec3(0.8000, 0.6000, 0.2000),
    vec3(0.8000, 0.6000, 0.0000),
    vec3(0.8000, 0.4000, 1.0000),
    vec3(0.8000, 0.4000, 0.8000),
    vec3(0.8000, 0.4000, 0.6000),
    vec3(0.8000, 0.4000, 0.4000),
    vec3(0.8000, 0.4000, 0.2000),
    vec3(0.8000, 0.4000, 0.0000),
    vec3(0.8000, 0.2000, 1.0000),
    vec3(0.8000, 0.2000, 0.8000),
    vec3(0.8000, 0.2000, 0.6000),
    vec3(0.8000, 0.2000, 0.4000),
    vec3(0.8000, 0.2000, 0.2000),
    vec3(0.8000, 0.2000, 0.0000),
    vec3(0.8000, 0.0000, 1.0000),
    vec3(0.8000, 0.0000, 0.8000),
    vec3(0.8000, 0.0000, 0.6000),
    vec3(0.8000, 0.0000, 0.4000),
    vec3(0.8000, 0.0000, 0.2000),
    vec3(0.8000, 0.0000, 0.0000),
    vec3(0.6000, 1.0000, 1.0000),
    vec3(0.6000, 1.0000, 0.8000),
    vec3(0.6000, 1.0000, 0.6000),
    vec3(0.6000, 1.0000, 0.4000),
    vec3(0.6000, 1.0000, 0.2000),
    vec3(0.6000, 1.0000, 0.0000),
    vec3(0.6000, 0.8000, 1.0000),
    vec3(0.6000, 0.8000, 0.8000),
    vec3(0.6000, 0.8000, 0.6000),
    vec3(0.6000, 0.8000, 0.4000),
    vec3(0.6000, 0.8000, 0.2000),
    vec3(0.6000, 0.8000, 0.0000),
    vec3(0.6000, 0.6000, 1.0000),
    vec3(0.6000, 0.6000, 0.8000),
    vec3(0.6000, 0.6000, 0.6000),
    vec3(0.6000, 0.6000, 0.4000),
    vec3(0.6000, 0.6000, 0.2000),
    vec3(0.6000, 0.6000, 0.0000),
    vec3(0.6000, 0.4000, 1.0000),
    vec3(0.6000, 0.4000, 0.8000),
    vec3(0.6000, 0.4000, 0.6000),
    vec3(0.6000, 0.4000, 0.4000),
    vec3(0.6000, 0.4000, 0.2000),
    vec3(0.6000, 0.4000, 0.0000),
    vec3(0.6000, 0.2000, 1.0000),
    vec3(0.6000, 0.2000, 0.8000),
    vec3(0.6000, 0.2000, 0.6000),
    vec3(0.6000, 0.2000, 0.4000),
    vec3(0.6000, 0.2000, 0.2000),
    vec3(0.6000, 0.2000, 0.0000),
    vec3(0.6000, 0.0000, 1.0000),
    vec3(0.6000, 0.0000, 0.8000),
    vec3(0.6000, 0.0000, 0.6000),
    vec3(0.6000, 0.0000, 0.4000),
    vec3(0.6000, 0.0000, 0.2000),
    vec3(0.6000, 0.0000, 0.0000),
    vec3(0.4000, 1.0000, 1.0000),
    vec3(0.4000, 1.0000, 0.8000),
    vec3(0.4000, 1.0000, 0.6000),
    vec3(0.4000, 1.0000, 0.4000),
    vec3(0.4000, 1.0000, 0.2000),
    vec3(0.4000, 1.0000, 0.0000),
    vec3(0.4000, 0.8000, 1.0000),
    vec3(0.4000, 0.8000, 0.8000),
    vec3(0.4000, 0.8000, 0.6000),
    vec3(0.4000, 0.8000, 0.4000),
    vec3(0.4000, 0.8000, 0.2000),
    vec3(0.4000, 0.8000, 0.0000),
    vec3(0.4000, 0.6000, 1.0000),
    vec3(0.4000, 0.6000, 0.8000),
    vec3(0.4000, 0.6000, 0.6000),
    vec3(0.4000, 0.6000, 0.4000),
    vec3(0.4000, 0.6000, 0.2000),
    vec3(0.4000, 0.6000, 0.0000),
    vec3(0.4000, 0.4000, 1.0000),
    vec3(0.4000, 0.4000, 0.8000),
    vec3(0.4000, 0.4000, 0.6000),
    vec3(0.4000, 0.4000, 0.4000),
    vec3(0.4000, 0.4000, 0.2000),
    vec3(0.4000, 0.4000, 0.0000),
    vec3(0.4000, 0.2000, 1.0000),
    vec3(0.4000, 0.2000, 0.8000),
    vec3(0.4000, 0.2000, 0.6000),
    vec3(0.4000, 0.2000, 0.4000),
    vec3(0.4000, 0.2000, 0.2000),
    vec3(0.4000, 0.2000, 0.0000),
    vec3(0.4000, 0.0000, 1.0000),
    vec3(0.4000, 0.0000, 0.8000),
    vec3(0.4000, 0.0000, 0.6000),
    vec3(0.4000, 0.0000, 0.4000),
    vec3(0.4000, 0.0000, 0.2000),
    vec3(0.4000, 0.0000, 0.0000),
    vec3(0.2000, 1.0000, 1.0000),
    vec3(0.2000, 1.0000, 0.8000),
    vec3(0.2000, 1.0000, 0.6000),
    vec3(0.2000, 1.0000, 0.4000),
    vec3(0.2000, 1.0000, 0.2000),
    vec3(0.2000, 1.0000, 0.0000),
    vec3(0.2000, 0.8000, 1.0000),
    vec3(0.2000, 0.8000, 0.8000),
    vec3(0.2000, 0.8000, 0.6000),
    vec3(0.2000, 0.8000, 0.4000),
    vec3(0.2000, 0.8000, 0.2000),
    vec3(0.2000, 0.8000, 0.0000),
    vec3(0.2000, 0.6000, 1.0000),
    vec3(0.2000, 0.6000, 0.8000),
    vec3(0.2000, 0.6000, 0.6000),
    vec3(0.2000, 0.6000, 0.4000),
    vec3(0.2000, 0.6000, 0.2000),
    vec3(0.2000, 0.6000, 0.0000),
    vec3(0.2000, 0.4000, 1.0000),
    vec3(0.2000, 0.4000, 0.8000),
    vec3(0.2000, 0.4000, 0.6000),
    vec3(0.2000, 0.4000, 0.4000),
    vec3(0.2000, 0.4000, 0.2000),
    vec3(0.2000, 0.4000, 0.0000),
    vec3(0.2000, 0.2000, 1.0000),
    vec3(0.2000, 0.2000, 0.8000),
    vec3(0.2000, 0.2000, 0.6000),
    vec3(0.2000, 0.2000, 0.4000),
    vec3(0.2000, 0.2000, 0.2000),
    vec3(0.2000, 0.2000, 0.0000),
    vec3(0.2000, 0.0000, 1.0000),
    vec3(0.2000, 0.0000, 0.8000),
    vec3(0.2000, 0.0000, 0.6000),
    vec3(0.2000, 0.0000, 0.4000),
    vec3(0.2000, 0.0000, 0.2000),
    vec3(0.2000, 0.0000, 0.0000),
    vec3(0.0000, 1.0000, 1.0000),
    vec3(0.0000, 1.0000, 0.8000),
    vec3(0.0000, 1.0000, 0.6000),
    vec3(0.0000, 1.0000, 0.4000),
    vec3(0.0000, 1.0000, 0.2000),
    vec3(0.0000, 1.0000, 0.0000),
    vec3(0.0000, 0.8000, 1.0000),
    vec3(0.0000, 0.8000, 0.8000),
    vec3(0.0000, 0.8000, 0.6000),
    vec3(0.0000, 0.8000, 0.4000),
    vec3(0.0000, 0.8000, 0.2000),
    vec3(0.0000, 0.8000, 0.0000),
    vec3(0.0000, 0.6000, 1.0000),
    vec3(0.0000, 0.6000, 0.8000),
    vec3(0.0000, 0.6000, 0.6000),
    vec3(0.0000, 0.6000, 0.4000),
    vec3(0.0000, 0.6000, 0.2000),
    vec3(0.0000, 0.6000, 0.0000),
    vec3(0.0000, 0.4000, 1.0000),
    vec3(0.0000, 0.4000, 0.8000),
    vec3(0.0000, 0.4000, 0.6000),
    vec3(0.0000, 0.4000, 0.4000),
    vec3(0.0000, 0.4000, 0.2000),
    vec3(0.0000, 0.4000, 0.0000),
    vec3(0.0000, 0.2000, 1.0000),
    vec3(0.0000, 0.2000, 0.8000),
    vec3(0.0000, 0.2000, 0.6000),
    vec3(0.0000, 0.2000, 0.4000),
    vec3(0.0000, 0.2000, 0.2000),
    vec3(0.0000, 0.2000, 0.0000),
    vec3(0.0000, 0.0000, 1.0000),
    vec3(0.0000, 0.0000, 0.8000),
    vec3(0.0000, 0.0000, 0.6000),
    vec3(0.0000, 0.0000, 0.4000),
    vec3(0.0000, 0.0000, 0.2000),
    vec3(0.9333, 0.0000, 0.0000),
    vec3(0.8667, 0.0000, 0.0000),
    vec3(0.7333, 0.0000, 0.0000),
    vec3(0.6667, 0.0000, 0.0000),
    vec3(0.5333, 0.0000, 0.0000),
    vec3(0.4667, 0.0000, 0.0000),
    vec3(0.3333, 0.0000, 0.0000),
    vec3(0.2667, 0.0000, 0.0000),
    vec3(0.1333, 0.0000, 0.0000),
    vec3(0.0667, 0.0000, 0.0000),
    vec3(0.0000, 0.9333, 0.0000),
    vec3(0.0000, 0.8667, 0.0000),
    vec3(0.0000, 0.7333, 0.0000),
    vec3(0.0000, 0.6667, 0.0000),
    vec3(0.0000, 0.5333, 0.0000),
    vec3(0.0000, 0.4667, 0.0000),
    vec3(0.0000, 0.3333, 0.0000),
    vec3(0.0000, 0.2667, 0.0000),
    vec3(0.0000, 0.1333, 0.0000),
    vec3(0.0000, 0.0667, 0.0000),
    vec3(0.0000, 0.0000, 0.9333),
    vec3(0.0000, 0.0000, 0.8667),
    vec3(0.0000, 0.0000, 0.7333),
    vec3(0.0000, 0.0000, 0.6667),
    vec3(0.0000, 0.0000, 0.5333),
    vec3(0.0000, 0.0000, 0.4667),
    vec3(0.0000, 0.0000, 0.3333),
    vec3(0.0000, 0.0000, 0.2667),
    vec3(0.0000, 0.0000, 0.1333),
    vec3(0.0000, 0.0000, 0.0667),
    vec3(0.9333, 0.9333, 0.9333),
    vec3(0.8667, 0.8667, 0.8667),
    vec3(0.7333, 0.7333, 0.7333),
    vec3(0.6667, 0.6667, 0.6667),
    vec3(0.5333, 0.5333, 0.5333),
    vec3(0.4667, 0.4667, 0.4667),
    vec3(0.3333, 0.3333, 0.3333),
    vec3(0.2667, 0.2667, 0.2667),
    vec3(0.1333, 0.1333, 0.1333),
    vec3(0.0667, 0.0667, 0.0667),
    vec3(0.0000, 0.0000, 0.0000)
);

void main()
{
    hitValue = vec3(0.8, 0.2, 0.2);
}
